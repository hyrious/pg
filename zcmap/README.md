## 随机复制连接地图（先这么叫吧）

<samp>Input:</samp>

一系列 <q>模版</q> 地图，一个入口事件

<samp>Output:</samp>

场所移动到一个随机的地图，这个地图可以是新生成的，可以是以前生成好的。

往返门：如果目标位置存在事件，事件里有相同标记的场所移动事件，把它修改到来的地图。

记忆化：入口（不管是不是从模版地图生成的），都有义务记住这次随机的结果。

### 思路

显然，这里需要 <q>修改</q> 并 <q>记住</q> 特定事件的内容。

所以需要在存档里存储一个数据（`$gameSystem` 或 `$gameTemp`）大约包含以下内容：

```ts
{ [地图id, 事件id, 事件页下标, 事件列表下标]: [场所移动指令的所有参数] }
```

和一些新地图，如果地图数据本身不被修改（毕竟 `$dataMap`），可以只存一些 id 映射：

```ts
{ [新地图id]: 来源地图id }
```
